# Misc 7 @Kivooeo

{{#include ../include/quiz-is-wip.md}}

```rust
{{#include ../../code/examples/misc_7.rs}}
```

<details>
<summary>Solution</summary>

The actual output will be:

```
[src/main.rs:17:5] capture!(2 + 3) = 5
[src/main.rs:18:5] transform!(2 + 3) = 6
```

Because once a token is captured as an expression (`:expr`), it becomes opaque to macro pattern matching and cannot be destructured into its component tokens. 

When `capture!(2 + 3)` is invoked, the `$e:expr` matcher captures `2 + 3` as a single expression token tree. This captured expression is then passed to `transform!($e)`, which attempts to match it against the pattern `$a:tt + $b:tt`.

However, because `$e` was already captured as an `:expr`, it cannot be pattern-matched as separate tokens anymore. The first arm `$a:tt + $b:tt` fails to match, so the second arm `$other:expr` matches instead, and the expression `2 + 3` is returned as-is, evaluating to `5`.

</details>